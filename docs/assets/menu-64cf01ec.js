import{a8 as s,_ as k,d as y,o as L,c as U,a as b,b as l,w as o,F as W,e as r}from"./index-535e28fc.js";import{E}from"./el-overlay-7a1f2a00.js";import{E as v,a as F,b as A}from"./el-input-38f44b90.js";import{E as $}from"./el-pagination-dcda96ef.js";import{E as u,a as z,b as P}from"./el-table-column-80bf23a5.js";import"./el-select-7b033746.js";import{E as T}from"./el-button-da48eb91.js";import{c as q}from"./cloneDeep-587f8cef.js";import"./validator-b4bb0fc1.js";const B=e=>s.request({url:"/api/menu-rule/add",method:"post",data:e}),D=e=>s.request({url:`/api/menu-rule/del/${e}`,method:"get"}),I=e=>s.request({url:"/api/menu-rule/edit",method:"post",data:e}),N=e=>s.request({url:"/api/menu-rule/page",method:"post",data:e}),M=y({data(){return{adCates:[],page:{total:0,current:1,size:10},dialogFormVisible:!1,adCate:{component:"",createTime:"",extend:"",icon:"",id:0,keepalive:0,menuType:"",name:"",path:"",pid:0,remark:"",status:"",title:"",type:"",updateTime:"",url:"",weigh:0},formLabelWidth:80}},mounted(){this.getAdCatesPage(1)},methods:{getAdCatesPage(e){N({columns:[],current:e,size:2}).then(n=>{console.log(n);const f=n.data.page;this.adCates=f.records,this.page=f}).catch(n=>{console.log(n)})},save(){const e=this.adCate;e.id===0?B(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getAdCatesPage(this.page.current),u(a.msg);else return u(a.msg),!1}).catch(()=>{u("网络错误联系管理员")}):I(e).then(a=>{if(a.success)this.dialogFormVisible=!1,this.getAdCatesPage(this.page.current),u(a.msg);else return u(a.msg),!1}).catch(()=>{u("网络错误联系管理员")})},toEdit(e){console.log(e),this.dialogFormVisible=!0,this.adCate=q(e)},currentChange(e){this.getAdCatesPage(e),this.page.current=e},del(e){console.log(e),D({id:e}).then(n=>{if(n.success)this.getAdCatesPage(this.page.current);else return console.log(n.msg),!1}).catch(()=>{})},toAdd(){this.dialogFormVisible=!0}}}),j={class:"adCates"},G={class:"adcate-tools"},H={class:"dialog-footer"};function J(e,a,n,f,K,O){const p=T,d=P,h=z,C=$,i=v,m=F,g=A,V=E;return L(),U(W,null,[b("div",j,[b("div",G,[l(p,{type:"warning",onClick:e.toAdd},{default:o(()=>[r("添加")]),_:1},8,["onClick"])]),l(h,{data:e.adCates,style:{width:"100%"}},{default:o(()=>[l(d,{fixed:"",prop:"id",label:"ID",width:""}),l(d,{prop:"pid",label:"pid"}),l(d,{prop:"type",label:"type",width:""}),l(d,{prop:"title",label:"title",width:""}),l(d,{prop:"name",label:"name",width:""}),l(d,{prop:"path",label:"path",width:""}),l(d,{prop:"icon",label:"icon",width:""}),l(d,{prop:"menu_type",label:"menu_type",width:""}),l(d,{prop:"url",label:"url",width:""}),l(d,{prop:"component",label:"component",width:""}),l(d,{prop:"keepalive",label:"keepalive",width:""}),l(d,{prop:"extend",label:"extend",width:""}),l(d,{prop:"remark",label:"remark",width:""}),l(d,{prop:"weight",label:"weight",width:""}),l(d,{prop:"status",label:"status",width:""}),l(d,{prop:"update_time",label:"update_time",width:""}),l(d,{prop:"create_time",label:"create_time",width:""}),l(d,{fixed:"right",label:"right",width:"120"},{default:o(t=>[l(p,{link:"",type:"primary",size:"small",onClick:w=>e.toEdit(t.row)},{default:o(()=>[r("更新")]),_:2},1032,["onClick"]),l(p,{link:"",type:"primary",size:"small",onClick:w=>e.del(t.row.id)},{default:o(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),l(C,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentChange},null,8,["page-size","total","onCurrentChange"])]),l(V,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":a[18]||(a[18]=t=>e.dialogFormVisible=t),title:"导航栏信息编辑"},{footer:o(()=>[b("span",H,[l(p,{onClick:a[17]||(a[17]=t=>e.dialogFormVisible=!1)},{default:o(()=>[r("Cancel")]),_:1}),l(p,{type:"primary",onClick:e.save},{default:o(()=>[r("保存")]),_:1},8,["onClick"])])]),default:o(()=>[l(g,{model:e.adCate},{default:o(()=>[l(m,{label:"ID","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.id,"onUpdate:modelValue":a[0]||(a[0]=t=>e.adCate.id=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"pid","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.pid,"onUpdate:modelValue":a[1]||(a[1]=t=>e.adCate.pid=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"type","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.type,"onUpdate:modelValue":a[2]||(a[2]=t=>e.adCate.type=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"title","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.title,"onUpdate:modelValue":a[3]||(a[3]=t=>e.adCate.title=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"name","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.name,"onUpdate:modelValue":a[4]||(a[4]=t=>e.adCate.name=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"path","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.path,"onUpdate:modelValue":a[5]||(a[5]=t=>e.adCate.path=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"icon","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.icon,"onUpdate:modelValue":a[6]||(a[6]=t=>e.adCate.icon=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"menu_type","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.menu_type,"onUpdate:modelValue":a[7]||(a[7]=t=>e.adCate.menu_type=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"url","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.url,"onUpdate:modelValue":a[8]||(a[8]=t=>e.adCate.url=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"component","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.component,"onUpdate:modelValue":a[9]||(a[9]=t=>e.adCate.component=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"keepalive","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.keepalive,"onUpdate:modelValue":a[10]||(a[10]=t=>e.adCate.keepalive=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"extend","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.extend,"onUpdate:modelValue":a[11]||(a[11]=t=>e.adCate.extend=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"remark","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.remark,"onUpdate:modelValue":a[12]||(a[12]=t=>e.adCate.remark=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"weight","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.weight,"onUpdate:modelValue":a[13]||(a[13]=t=>e.adCate.weight=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"status","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.status,"onUpdate:modelValue":a[14]||(a[14]=t=>e.adCate.status=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"update_time","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.update_time,"onUpdate:modelValue":a[15]||(a[15]=t=>e.adCate.update_time=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),l(m,{label:"create_time","label-width":e.formLabelWidth},{default:o(()=>[l(i,{modelValue:e.adCate.create_time,"onUpdate:modelValue":a[16]||(a[16]=t=>e.adCate.create_time=t),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const ee=k(M,[["render",J]]);export{ee as default};
